(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[137],{1014:function(e,t,a){"use strict";function o(e,t){var a=!t,o=document.getElementById(e);return a?o&&o.querySelectorAll('div[class*="mediaContainer"]')[0]:o}a.d(t,"a",(function(){return o}))},1124:function(e,t,a){"use strict";function o(e){return!Object.keys(e||{}).length}a.d(t,"a",(function(){return o}))},1422:function(e,t,a){"use strict";var o=a(24),n=a.n(o),i=a(25),r=a.n(i),l=a(44),s=a.n(l),c=a(43),p=a.n(c),d=a(19),u=a.n(d),y=a(45),h=a.n(y),f=a(3),I=a.n(f),v=a(0),S=a.n(v),E=a(73),_=a(1),L=a.n(_),O=a(49),T=a(1124),P=a(21),g=a(1014),N=a(5),m=a(1860),w=Object(E.a)({chunkName:function(){return"components-Video-UniversalVideoPlayer-VideoPlayer"},isReady:function(e){return!!a.m[this.resolve(e)]},requireAsync:function(){return a.e(122).then(a.bind(null,1394))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function e(){return 1394}}),C=40,b=40,D=50,A=a(1423),k=function(e){function t(e){var a;return n()(this,t),a=s()(this,p()(t).call(this,e)),I()(u()(a),"handleBodyResize",(function(){a.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.DOCUMENT_BODY_SIZE_CHANGED}))})),I()(u()(a),"handleResize",(function(){if(a.updateMiniPlayerPositioningSettings(),a.placeholder){var e=a.placeholder.getBoundingClientRect(),t=Math.round(e.top||e.y||0)+window.pageYOffset,o=Math.floor(e.left||e.x||0)+window.pageXOffset,n=a.placeholder.scrollWidth>e.width?a.placeholder.scrollWidth:e.width+1,i=a.placeholder.scrollHeight>e.height?a.placeholder.scrollHeight:e.height+1,r=window.innerWidth,l=window.innerHeight,s=a.sourcePlaceholderId;a.props.videoDataWithPosition.top===t&&a.props.videoDataWithPosition.left===o&&a.props.videoDataWithPosition.width===n&&a.props.videoDataWithPosition.height===i||a.props.dispatch(Object(N.getVideoDataWithPosition)({top:t,left:o,width:n,height:i,sourcePlaceholderId:s,viewportWidth:r,viewportHeight:l})),a.handleScroll()}})),I()(u()(a),"handleScroll",(function(){var e=a.props,t=e.playBackInitiativeInfo,o=e.videoDataWithPosition,n=e.videoPlayerInfo,i=a.props.videoPlayerInfo.layout||N.playerLayoutStates.HIDDEN,r=o.viewportHeight+D-b,l=o.data&&o.data.playerConfig&&o.data.playerConfig.sticky;if(!n.suspendScrollHandling&&!t.isPlaylist&&a.placeholder&&l&&(o.viewportWidth>768||[N.playerLayoutStates.STICKY,N.playerLayoutStates.STICKY_END_CARD,N.playerLayoutStates.STICKY_TO_INLINE_SCROLL,N.playerLayoutStates.INLINE_END_CARD_WITH_TIMER,N.playerLayoutStates.ABOVE_FOOTER,N.playerLayoutStates.ABOVE_FOOTER_END_CARD].includes(i))){var s=o.viewportWidth<1020?45:50,c=a.placeholder.getBoundingClientRect(),p=(c.bottom+c.top)/2;if(o.viewportWidth>768){var d=a.getMiniPlayerPositioningData().scrollStopperRelativeTop;p<s?((i===N.playerLayoutStates.INLINE&&n.playback||i===N.playerLayoutStates.INLINE_END_CARD_WITH_TIMER)&&a.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.LEAVE_VIEWPORT})),a.scrollStoppingElement&&([N.playerLayoutStates.STICKY,N.playerLayoutStates.STICKY_END_CARD].includes(i)?d<=r&&a.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.ATTACH_TO_FOOTER})):[N.playerLayoutStates.ABOVE_FOOTER,N.playerLayoutStates.ABOVE_FOOTER_END_CARD].includes(i)&&d>r&&a.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.DETACH_FROM_FOOTER})))):[N.playerLayoutStates.STICKY,N.playerLayoutStates.STICKY_END_CARD,N.playerLayoutStates.STICKY_TO_INLINE_SCROLL].includes(i)?a.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.ENTER_VIEWPORT})):[N.playerLayoutStates.ABOVE_FOOTER,N.playerLayoutStates.ABOVE_FOOTER_END_CARD].includes(i)&&a.scrollStoppingElement&&d>r&&a.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.DETACH_FROM_FOOTER}))}else[N.playerLayoutStates.STICKY,N.playerLayoutStates.STICKY_TO_INLINE_SCROLL,N.playerLayoutStates.ABOVE_FOOTER].includes(i)&&(p<s||p>o.viewportHeight)&&a.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.ENTER_VIEWPORT}))}})),I()(u()(a),"handleTransitionComplete",(function(e){e.target===a.playerElement&&a.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.TRANSITION_COMPLETE}))})),I()(u()(a),"supportForScrollBehavior",(function(){return"undefined"!=typeof window&&"scrollBehavior"in document.documentElement.style})),a.state={defaultWorkflow:"VOD",defaultPlayerTech:"JW",defaultLayout:N.playerLayoutStates.INLINE,defaultStickyPlayerWidth:300,intervalTimer:0,playerAspectRatio:.5625},a.playerElement=null,a.scrollStoppingElement=null,a.timerFunc=null,a.intervalTimer=0,a.sourcePlaceholderId=null,a.placeholder=null,a.width=null,a.hasMountedJW=!1,a}return h()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this;P.a.on("resize",this.handleResize),P.a.on("bodyResize",this.handleBodyResize),P.a.on("scroll",this.handleScroll),this.playerElement=document.querySelector(".".concat(A.videoContainer)),this.playerElement&&this.playerElement.addEventListener("transitionend",this.handleTransitionComplete),this.timerFunc=setInterval((function(){return e.handleInterval()}),1e3)}},{key:"updateMiniPlayerPositioningSettings",value:function(){"undefined"!=typeof document&&(this.scrollStoppingElement=document&&document.querySelector("[data-mini-video-player-dont-scroll-beyond-here]"))}},{key:"getMiniPlayerPositioningData",value:function(){var e=this.scrollStoppingElement&&this.scrollStoppingElement.getBoundingClientRect();e&&e.width||(this.updateMiniPlayerPositioningSettings(),e=this.scrollStoppingElement&&this.scrollStoppingElement.getBoundingClientRect());var t="undefined"!=typeof window&&window.pageYOffset||0,a=e&&e.top;return{scrollStopperRelativeTop:a,scrollStopperAbsoluteTop:a&&a+t}}},{key:"componentWillUnmount",value:function(){P.a.remove("resize",this.handleResize),P.a.remove("bodyResize",this.handleBodyResize),P.a.remove("scroll",this.handleScroll),this.playerElement=document.querySelector(".".concat(A.videoContainer)),this.playerElement&&this.playerElement.removeEventListener("transitionend",this.handleTransitionComplete),this.props.dispatch(Object(N.setVideoPlayBackInitiative)({isPlaylist:!1})),clearInterval(this.timerFunc)}},{key:"shouldComponentUpdate",value:function(e){return!(this.props.videoPlayerInfo.targetLayout&&this.props.videoPlayerInfo.targetLayout!==e.videoPlayerInfo.layout)||this.props.videoPlayerInfo.adPlayback!==e.videoPlayerInfo.adPlayback||this.props.navStatus.hasNewsAlert!==e.navStatus.hasNewsAlert||this.props.navStatus.hasLiveAlert!==e.navStatus.hasLiveAlert||this.props.placeholderInfo&&e.placeholderInfo&&e.placeholderInfo.sourcePlaceholderId&&this.props.placeholderInfo.sourcePlaceholderId!==e.placeholderInfo.sourcePlaceholderId}},{key:"handleInterval",value:function(){this.intervalTimer>300?(clearInterval(this.timerFunc),this.intervalTimer=0):(this.intervalTimer=this.intervalTimer+1,this.handleResize())}},{key:"processInterval",value:function(e){var t=this;return e?(clearInterval(this.timerFunc),this.intervalTimer=0,this.timerFunc=setInterval((function(){return t.handleInterval()}),1e3),!0):null}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.videoPlayerInfo.layout===N.playerLayoutStates.INLINE_TO_STICKY_1_INLINE_FIXED&&e.videoPlayerInfo.layout===N.playerLayoutStates.INLINE&&this.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.TRANSITION_BEGIN})),this.props.videoPlayerInfo.layout===N.playerLayoutStates.ABOVE_FOOTER_TO_DISMISS_1_ABSOLUTE&&e.videoPlayerInfo.layout===N.playerLayoutStates.ABOVE_FOOTER&&this.props.dispatch(Object(N.setPlayerInfo)({trigger:N.playerLayoutActions.TRANSITION_BEGIN})),this.processInterval(this.props.videoDataWithPosition.data.playbackURL!==e.videoDataWithPosition.data.playbackURL),this.props.navStatus.hasNewsAlert===e.navStatus.hasNewsAlert&&this.props.navStatus.hasLiveAlert===e.navStatus.hasLiveAlert||window.setTimeout((function(){t.handleResize()}),200);var a,o=this.state.defaultPlayerTech,n=this.props.videoDataWithPosition,i=!1;switch(this.props.videoPlayerInfo.layout||N.playerLayoutStates.HIDDEN){case N.playerLayoutStates.INLINE:a=n.width;break;case N.playerLayoutStates.STICKY:a=n.data&&n.data.playerConfig&&n.data.playerConfig.stickyPlayerWidth||this.state.defaultStickyPlayerWidth,i=!0;break;case N.playerLayoutStates.STICKY_TO_INLINE_2_INLINE_TRANSPARENT:case N.playerLayoutStates.STICKY_TO_INLINE_PAUSED_2_INLINE_FADE_IN:a=n.width}if(a&&a!==this.width){this.width=a;var r=Math.round(this.state.playerAspectRatio*a);Object(m.a)(o,a,r)}i&&this.handleScroll();var l=this.props,s=l.placeholderInfo,c=l.videoPlayerInfo;if(s&&s.sourcePlaceholderId){var p=s.sourcePlaceholderId,d=c.inlineVideoComponent;this.sourcePlaceholderId=p,this.placeholder=Object(g.a)(p,d)}}},{key:"renderComponent",value:function(){this.hasMountedJW=!0;var e=this.state.defaultPlayerTech,t=this.props.videoDataWithPosition.data,a=this.props.videoDataWithPosition.videoAttributes;if(this.props.videoIsPreloader.isPreloader){return S.a.createElement(w,{playerTech:e,videoData:{playerConfig:{key:"+9o3ihbMIU8/ixFry35xlHnkQ9tikKg9TU0io1QbWXfpeR0q",workflow:"VOD"},playbackURL:"//sc.cnbcfm.com/applications/cnbc.com/staticcontent/video.mp4"},videoAttributes:a})}if(t){if(t.playerConfig&&("VOD"===t.playerConfig.workflow||"directPlayback"===t.playerConfig.workflow)||t.playerConfig&&"Live"===t.playerConfig.workflow)return S.a.createElement(w,{playerTech:e,videoData:t,videoAttributes:a});if(""===t.playbackURL)return S.a.createElement("div",{style:{display:"none"}},"No video requested.")}return S.a.createElement("div",null,"An error has occurred")}},{key:"render",value:function(){var e,t,a,o,n,i,r=this.props.videoDataWithPosition,l=this.props.videoPlayerInfo.layout||N.playerLayoutStates.HIDDEN,s="",c="",p="",d="",u="",y="",h=this.props.videoPlayerInfo.adPlayback?"adPlayback":"",f=this.props.videoPlayerInfo.playback?"playing":"paused",I=this.props.videoPlayerInfo.seek?"scrubbing":"",v=r.brand||r.data&&r.data.brand||"",E=r.data&&r.data.playerConfig&&r.data.playerConfig.stickyPlayerWidth?r.data.playerConfig.stickyPlayerWidth:this.state.defaultStickyPlayerWidth,_=.5625*E,L=this.getMiniPlayerPositioningData().scrollStopperAbsoluteTop;switch(l){case N.playerLayoutStates.HIDDEN:case N.playerLayoutStates.INLINE_END_CARD_WITH_TIMER:case N.playerLayoutStates.STICKY_END_CARD:case N.playerLayoutStates.INLINE_END_CARD_TIMER_DISMISSED:case N.playerLayoutStates.ABOVE_FOOTER_END_CARD:i={top:e=-3e3,left:t=-3e3,width:a=r.width};break;case N.playerLayoutStates.INLINE:e=r.top,t=r.left,a=r.width;break;case N.playerLayoutStates.INLINE_TO_STICKY_1_INLINE_FIXED:var O=this.placeholder.getBoundingClientRect();e=Math.round(O.top||O.y||0),t=Math.round(O.left||O.x||0),a=O.width,c="fixed";break;case N.playerLayoutStates.INLINE_TO_STICKY_2_TRANSITION:var P=this.placeholder.getBoundingClientRect();e=Math.round(P.top||P.y||0),t=Math.round(P.left||P.x||0),a=P.width,c="fixed";var g=r.data.playerConfig.stickyPlayerWidth||this.state.defaultStickyPlayerWidth,m=window.innerHeight-b-_/2-(e+P.height/2),w=C+g/2-t-P.width/2,k=g/a;p="initial",s="translateY(".concat(m,"px) translateX(").concat(w,"px) scale(").concat(k,")"),d="all .5s ease-in";break;case N.playerLayoutStates.STICKY:t="".concat(C,"px"),u="".concat(b,"px"),a="".concat(E,"px"),c="fixed",y="customControls";break;case N.playerLayoutStates.STICKY_TO_INLINE_1_STICKY_FADE_OUT:t="".concat(C,"px"),u="".concat(b,"px"),a="".concat(E,"px"),c="fixed",o="opacity",n=0,d="all .3s ease-in";break;case N.playerLayoutStates.STICKY_TO_INLINE_PAUSED_2_INLINE_FADE_IN:case N.playerLayoutStates.STICKY_TO_INLINE_2_INLINE_TRANSPARENT:e=r.top,t=r.left,a=r.width,o="opacity",n=1,d="all .3s ease-in";break;case N.playerLayoutStates.STICKY_TO_INLINE_SCROLL:t="".concat(C,"px"),u="".concat(b,"px"),a="".concat(E,"px"),c="fixed",this.supportForScrollBehavior()?window.scroll({top:r.top-D,behavior:"smooth"}):window.scroll(0,r.top-D);break;case N.playerLayoutStates.STICKY_TO_INLINE_PAUSED_1_SLIDE_OUT:t="".concat(C,"px"),u="".concat(b,"px"),a="".concat(E,"px"),c="fixed",p="initial",s="translateX(-".concat(C+E,"px)"),d="all .3s ease-in";break;case N.playerLayoutStates.ABOVE_FOOTER:this.scrollStoppingElement&&(c="absolute",t="".concat(C,"px"),e=L-_-D,a="".concat(E,"px"),y="customControls");break;case N.playerLayoutStates.ABOVE_FOOTER_TO_DISMISS_1_ABSOLUTE:this.scrollStoppingElement&&(c="absolute",t="".concat(C,"px"),e=L-_-D,a="".concat(E,"px"),y="customControls",p="initial");break;case N.playerLayoutStates.ABOVE_FOOTER_TO_DISMISS_2_SLIDE_OUT:this.scrollStoppingElement&&(c="absolute",t="".concat(C,"px"),e=L-_-D,a="".concat(E,"px"),y="customControls",p="initial",s="translateX(-".concat(C+E,"px)"),d="all .3s ease-in")}i={top:e,bottom:u,left:t,width:a,transform:s,transformOrigin:p,transition:d,position:c,transitionProperty:o,opacity:n};var R=!1;return Object(T.a)(this.props.videoDataWithPosition.data)||(R=!0),this.hasMountedJW&&(R=!0),S.a.createElement("div",{className:"".concat(A.videoContainer," ").concat(y," ").concat(f," ").concat(I," ").concat(v," ").concat(h),style:i},R&&this.renderComponent())}}]),t}(v.Component);function R(e){return{videoDataWithPosition:e.videoDataWithPosition,videoIsPreloader:e.videoIsPreloader,videoPlayerInfo:e.videoPlayerInfo,placeholderInfo:e.placeholderInfo,playBackInitiativeInfo:e.playBackInitiativeInfo,navStatus:e.navStatus}}k.propTypes={videoDataWithPosition:L.a.object,videoPlayerInfo:L.a.object,videoIsPreloader:L.a.object,dispatch:L.a.func,placeholderInfo:L.a.object,playBackInitiativeInfo:L.a.object,navStatus:L.a.object},k.defaultProps={videoDataWithPosition:{},videoPlayerInfo:{},videoIsPreloader:{},dispatch:null,placeholderInfo:{},playBackInitiativeInfo:{},navStatus:{}},t.a=Object(O.b)(R,null)(k)},1423:function(e,t,a){e.exports={videoContainer:"UniversalVideoPlayer-videoContainer"}},1860:function(e,t,a){"use strict";var o=a(22),n=a.n(o);var i=function(e,t){return!("undefined"==typeof window||!window.jwplayer)&&("undefined"!=typeof window&&"object"===n()(window.jwplayer())&&"function"==typeof window.jwplayer().resize&&(window.jwplayer().resize(e,t),!0))};t.a=function(e,t,a){return"JW"===e&&i(t,a)}},743:function(e,t,a){"use strict";a.r(t);var o=a(24),n=a.n(o),i=a(25),r=a.n(i),l=a(44),s=a.n(l),c=a(43),p=a.n(c),d=a(19),u=a.n(d),y=a(45),h=a.n(y),f=a(3),I=a.n(f),v=a(0),S=a.n(v),E=a(1),_=a.n(E),L=a(1418),O=a.n(L),T=a(1419),P=a.n(T),g=(a(1420),a(582)),N=a(21),m=a(50),w=a(46),C=a(1422),b=a(2),D=a.n(b),A=a(7),k=a.n(A),R=a(11).a.properties.CNBC_BASE,W=function(e){var t;return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D.a.awrap(e.json());case 2:return t=a.sent,a.abrupt("return",t.appConfig);case 4:case"end":return a.stop()}}))},x=function(){var e;return D.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.awrap(fetch("".concat(R,"/system/status")));case 3:return e=t.sent,t.next=6,D.a.awrap(W(e));case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),null,null,[[0,9]])},B=function(){var e;return D.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.awrap(fetch("https://web.cnbc.com/system/status"));case 3:return e=t.sent,t.next=6,D.a.awrap(W(e));case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),null,null,[[0,9]])},j=function(){var e,t,a,o,n,i,r,l,s,c,p,d,u,y,h;return D.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return e=[x(),B()],f.next=3,D.a.awrap(Promise.all(e));case 3:if(t=f.sent,a=k()(t,2),o=a[0],n=a[1],o&&n){f.next=9;break}return f.abrupt("return");case 9:for(l in i=o.NODE_ENV,r=Object.create(null),o)r[l]=(s={},I()(s,i,o[l]),I()(s,"production",void 0),s);for(c in n)c in r?r[c].production=n[c]:r[c]=(p={},I()(p,i,void 0),I()(p,"production",n[c]),p);for(d in r)u=r[d],y=u[i],h=u.production,JSON.stringify(y)===JSON.stringify(h)&&delete r[d];Object.keys(r).length?(console.log("%cEnv Differences With Production","color:yellow; font-size:14px"),console.table(r)):console.log("%cNo Env Differences With Production!","color:green; font-size:14px");case 17:case"end":return f.stop()}}))},F=a(378);P.a.polyfill();var K=function(e){function t(){var e,a;n()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return a=s()(this,(e=p()(t)).call.apply(e,[this].concat(i))),I()(u()(a),"state",{clicking:!0}),I()(u()(a),"handleClick",(function(){a.state.clicking||a.setState({clicking:!0})})),I()(u()(a),"handleKeyup",(function(e){"Tab"===e.key&&a.state.clicking&&a.setState({clicking:!1})})),a}return h()(t,e),r()(t,[{key:"componentDidMount",value:function(){N.a.monitorScroll(),N.a.monitorResize(),N.a.monitorBodyResize(),N.a.monitorImagesLoad(),N.a.monitorClick(),N.a.monitorKeyup(),N.a.monitorRoute(),m.a.monitorBreakpoints(),O()().listen(),N.a.on("click",this.handleClick.bind(this),"none"),N.a.on("keyup",this.handleKeyup.bind(this),"none"),Object(w.d)(window.location)&&j()}},{key:"componentWillUnmount",value:function(){N.a.remove("click",this.handleClick),N.a.remove("keyup",this.handleKeyup)}},{key:"render",value:function(){return S.a.createElement("div",{className:this.state.clicking?F.containerClick:F.container},Object(g.a)(this.props.route.routes),S.a.createElement(C.a,null))}}]),t}(S.a.Component);K.propTypes={route:_.a.object.isRequired};t.default=K}}]);
//# sourceMappingURL=../../source-maps/containers-App-14e5b46eed4b6176541c.js.map