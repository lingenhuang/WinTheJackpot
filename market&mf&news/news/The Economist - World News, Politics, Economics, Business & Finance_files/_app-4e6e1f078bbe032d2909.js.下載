_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{1:function(t,e,r){r("3Ckp"),t.exports=r("bBV7")},"1TCz":function(t,e,r){"use strict";r.r(e);var n=r("NthX"),o=r.n(n),a=r("eijD"),s=r("hisu"),c=r("yBJb");function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=r("mXGw"),h=r.n(f),d=r("o42t"),m=r.n(d),y=r("zfIU"),v=r("DN0B"),g=r("dV/x"),b=r("mK0O"),w=r("Ya7B"),O=h.a.createElement;function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){Object(b.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var j=function(t,e){switch(e.type){case"updateAuth":return C(C({},t),{},{auth:e.auth});case"updateAccessType":return C(C({},t),{},{accessType:e.data});default:return t}},_=function(t){var e=t.children,r=Object(g.a)(t,["children"]);return O(w.a.Provider,{value:Object(f.useReducer)(j,r)},e)};_.defaultProps={auth:{},accessType:void 0,featureFlags:[],query:{},requestId:""};var x=_,k=r("Y0NT"),I=h.a.createElement;function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}var S=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,t);var e=A(r);function r(){return Object(s.a)(this,r),e.apply(this,arguments)}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var t=this.props.pageProps;window.newrelic&&(window.newrelic.setPageViewName(t.pathname),window.newrelic.setCurrentRouteName(t.pathname)),window.addEventListener("message",(function(t){var e=t.data,r=void 0===e?{}:e;if("destroy"===r.adAction&&r.pos){var n=document.querySelector('[id^="gpt-ad-slot"][id$="-'.concat(r.pos,'"]'));n&&(n.style.display="none")}}))}},{key:"render",value:function(){var t=this.props,e=t.Component,r=t.router,n=t.pageProps,o=t.error,a=n.auth,s=n.isAmp,c=n.requestId,u=n.featureFlags,i=r.query;return o?I(k.default,{statusCode:o.statusCode}):(i.isAmp=s,I(x,{auth:a,query:i,requestId:c,featureFlags:u},I(e,n)))}}],[{key:"getInitialProps",value:function(){var t=Object(a.a)(o.a.mark((function t(e){var r,n,a,s,c,u,i,p,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.Component,n=e.router,(a=e.ctx).req){t.next=3;break}return t.abrupt("return",window.__NEXT_DATA__.props);case 3:if(s=a.req,c=n.query,u=s.headers["x-request-id"],i={},!r.getInitialProps){t.next=23;break}return p=Object(v.getHostFromContext)(a),l=Object(y.checkIsAmp)(p,c),a.appProps={isAmp:l,host:p,requestId:u},t.prev=11,t.next=14,r.getInitialProps(a);case 14:i=t.sent,t.next=21;break;case 17:throw t.prev=17,t.t0=t.catch(11),t.t0.statusCode=500,t.t0;case 21:i.featureFlags=s.featureFlags,i.isAmp=l;case 23:return t.abrupt("return",{pageProps:i});case 24:case"end":return t.stop()}}),t,null,[[11,17]])})));return function(e){return t.apply(this,arguments)}}()}]),r}(m.a);e.default=S},"3Ckp":function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r("1TCz")}])},"6jsY":function(t,e,r){"use strict";var n=r("/dBk"),o=r("fwM5"),a=r("bkNG"),s=r("5YB7"),c=r("Y8Bl"),u=r("7osH"),i=r("ZClQ");function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}var l=r("mYab");e.__esModule=!0,e.Container=function(t){0;return t.children},e.createUrl=v,e.default=void 0;var f=l(r("mXGw")),h=r("z4BS");function d(t){return m.apply(this,arguments)}function m(){return(m=i(n.mark((function t(e){var r,o,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.Component,o=e.ctx,t.next=3,(0,h.loadGetInitialProps)(r,o);case 3:return a=t.sent,t.abrupt("return",{pageProps:a});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.AppInitialProps=h.AppInitialProps,e.NextWebVitalsMetric=h.NextWebVitalsMetric;var y=function(t){s(r,t);var e=p(r);function r(){return o(this,r),e.apply(this,arguments)}return a(r,[{key:"componentDidCatch",value:function(t,e){throw t}},{key:"render",value:function(){var t=this.props,e=t.router,r=t.Component,n=t.pageProps,o=t.__N_SSG,a=t.__N_SSP;return(f.default.createElement(r,Object.assign({},n,o||a?{}:{url:v(e)})))}}]),r}(f.default.Component);function v(t){var e=t.pathname,r=t.asPath,n=t.query;return{get query(){return n},get pathname(){return e},get asPath(){return r},back:function(){t.back()},push:function(e,r){return t.push(e,r)},pushTo:function(e,r){var n=r?e:"",o=r||e;return t.push(n,o)},replace:function(e,r){return t.replace(e,r)},replaceTo:function(e,r){var n=r?e:"",o=r||e;return t.replace(n,o)}}}e.default=y,y.origGetInitialProps=d,y.getInitialProps=d},DN0B:function(t,e,r){var n=r("nxTg");t.exports={getHostFromContext:function(t){if(t&&t.req&&t.req.headers){var e=t.req.headers;return e["x-economist-host"]?e["x-economist-host"]:e.host}return window.location.host},getContentUrlFromContext:function(t,e){var r=e.req,o=(r=void 0===r?{}:r).url,a=void 0===o?null:o;if(a){var s=a.split("?",2),c=n(s,1)[0];return"".concat(t).concat(c)}throw new Error("getUrlFromContext() called without valid context")}}},Vs3t:function(t,e,r){t.exports={"layout-error-page":"layout-error-page","ds-missed-target":"ds-missed-target"}},Y0NT:function(t,e,r){"use strict";r.r(e);var n=r("mXGw"),o=r.n(n),a=r("9fEB"),s=r.n(a),c=r("nv4L"),u=r("uZVl"),i=(r("Vs3t"),o.a.createElement),p=i(o.a.Fragment,null,"We\u2019ve logged this error."," ",i("a",{href:"mailto:customerhelp@economist.com"},"Contact us")," if this issue persists."),l=i(o.a.Fragment,null,"Go to the ",i("a",{href:"https://www.economist.com"},"homepage"),"."),f=i(o.a.Fragment,null,"We\u2019ve logged this error. Try refreshing this page or"," ",i("a",{href:"mailto:customerhelp@economist.com"},"contact us")," if the issue persists.");function h(t){var e=t.statusCode,r="Our apologies. An error seems to have occurred.",n=p,a="Something went wrong";return 404===e?(a="Page not found",r="Our apologies. It looks like we couldn\u2019t find this page.",n=l):e>=500&&(r="Our apologies. It looks like something went wrong.",n=f),i(o.a.Fragment,null,i(s.a,null,i("title",null,a," | The Economist")),i("div",{className:"error-page"},i(c.m,null),i("div",{className:"layout-error-page"},i(c.o,{headline:r,summary:n}))))}h.getInitialProps=function(t){var e=t.appProps,r=t.res,n=t.err;return r&&n?(u.logger.log({message:"error page",level:"error",requestId:e.requestId,statusCode:n.statusCode,stack:n.stack}),{statusCode:n.statusCode}):{}},h.defaultProps={statusCode:null},e.default=h},hisu:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return n}))},ly6l:function(t,e,r){var n,o=(n=r("UKnr"))&&"object"==typeof n&&"default"in n?n.default:n,a=/https?|ftp|gopher|file/;function s(t){"string"==typeof t&&(t=b(t));var e=function(t,e,r){var n=t.auth,o=t.hostname,a=t.protocol||"",s=t.pathname||"",c=t.hash||"",u=t.query||"",i=!1;n=n?encodeURIComponent(n).replace(/%3A/i,":")+"@":"",t.host?i=n+t.host:o&&(i=n+(~o.indexOf(":")?"["+o+"]":o),t.port&&(i+=":"+t.port)),u&&"object"==typeof u&&(u=e.encode(u));var p=t.search||u&&"?"+u||"";return a&&":"!==a.substr(-1)&&(a+=":"),t.slashes||(!a||r.test(a))&&!1!==i?(i="//"+(i||""),s&&"/"!==s[0]&&(s="/"+s)):i||(i=""),c&&"#"!==c[0]&&(c="#"+c),p&&"?"!==p[0]&&(p="?"+p),{protocol:a,host:i,pathname:s=s.replace(/[?#]/g,encodeURIComponent),search:p=p.replace("#","%23"),hash:c}}(t,o,a);return""+e.protocol+e.host+e.pathname+e.search+e.hash}var c="http://",u="w.w",i=c+u,p=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,l=/https?|ftp|gopher|file/;function f(t,e){var r="string"==typeof t?b(t):t;t="object"==typeof t?s(t):t;var n=b(e),o="";r.protocol&&!r.slashes&&(o=r.protocol,t=t.replace(r.protocol,""),o+="/"===e[0]||"/"===t[0]?"/":""),o&&n.protocol&&(o="",n.slashes||(o=n.protocol,e=e.replace(n.protocol,"")));var a=t.match(p);a&&!n.protocol&&(t=t.substr((o=a[1]+(a[2]||"")).length),/^\/\/[^/]/.test(e)&&(o=o.slice(0,-1)));var u=new URL(t,i+"/"),f=new URL(e,u).toString().replace(i,""),h=n.protocol||r.protocol;return h+=r.slashes||n.slashes?"//":"",!o&&h?f=f.replace(c,h):o&&(f=f.replace(c,"")),l.test(f)||~e.indexOf(".")||"/"===t.slice(-1)||"/"===e.slice(-1)||"/"!==f.slice(-1)||(f=f.slice(0,-1)),o&&(f=o+("/"===f[0]?f.substr(1):f)),f}function h(){}h.prototype.parse=b,h.prototype.format=s,h.prototype.resolve=f,h.prototype.resolveObject=f;var d=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,y=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,v=/^([a-z0-9.+-]*:)?\/\/\/*/i,g=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function b(t,e,r){if(void 0===e&&(e=!1),void 0===r&&(r=!1),t&&"object"==typeof t&&t instanceof h)return t;var n=(t=t.trim()).match(m);t=n?n[1].replace(/\\/g,"/")+n[2]:t.replace(/\\/g,"/"),g.test(t)&&"/"!==t.slice(-1)&&(t+="/");var a=!/(^javascript)/.test(t)&&t.match(y),c=v.test(t),p="";a&&(d.test(a[1])||(p=a[1].toLowerCase(),t=""+a[2]+a[3]),a[2]||(c=!1,d.test(a[1])?(p=a[1],t=""+a[3]):t="//"+a[3]),3!==a[2].length&&1!==a[2].length||(p=a[1],t="/"+a[3]));var l,f=(n?n[1]:t).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),b=f&&f[1],w=new h,O="",P="";try{l=new URL(t)}catch(o){O=o,p||r||!/^\/\//.test(t)||/^\/\/.+[@.]/.test(t)||(P="/",t=t.substr(1));try{l=new URL(t,i)}catch(t){return w.protocol=p,w.href=p,w}}w.slashes=c&&!P,w.host=l.host===u?"":l.host,w.hostname=l.hostname===u?"":l.hostname.replace(/(\[|\])/g,""),w.protocol=O?p||null:l.protocol,w.search=l.search.replace(/\\/g,"%5C"),w.hash=l.hash.replace(/\\/g,"%5C");var C=t.split("#");!w.search&&~C[0].indexOf("?")&&(w.search="?"),w.hash||""!==C[1]||(w.hash="#"),w.query=e?o.decode(l.search.substr(1)):w.search.substr(1),w.pathname=P+(a?function(t){return t.replace(/['^|`]/g,(function(t){return"%"+t.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(t,e){try{return decodeURIComponent(e).split("").map((function(t){var e=t.charCodeAt();return e>256||/^[a-z0-9]$/i.test(t)?t:"%"+e.toString(16).toUpperCase()})).join("")}catch(t){return e}}))}(l.pathname):l.pathname),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),O&&"/"!==t[0]&&(w.pathname=w.pathname.substr(1)),p&&!d.test(p)&&"/"!==t.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[l.username,l.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=l.port,b&&!w.host.endsWith(b)&&(w.host+=b,w.port=b.slice(1)),w.href=P?""+w.pathname+w.search+w.hash:s(w);var j=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach((function(t){~j.indexOf(t)||(w[t]=w[t]||null)})),w}e.parse=b,e.format=s,e.resolve=f,e.resolveObject=function(t,e){return b(f(t,e))},e.Url=h},o42t:function(t,e,r){t.exports=r("6jsY")},yBJb:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",(function(){return o}))},zfIU:function(t,e,r){var n=r("ly6l").parse,o=r("xPX6"),a=o.AMP_HOSTNAMES,s=o.ARTICLES_ON_AMP_BLACKLIST;t.exports={isOnAmpBlacklist:function(t){return!!t&&!(!s.some((function(e){return t.includes(e)}))&&!n(t).pathname.startsWith("/graphic-detail")&&"/"!==n(t).pathname)},checkIsAmp:function(t,e){return a.includes(t)||void 0!==e.amp}}}},[[1,1,2,0,4,3]]]);
//# sourceMappingURL=_app-4e6e1f078bbe032d2909.js.map